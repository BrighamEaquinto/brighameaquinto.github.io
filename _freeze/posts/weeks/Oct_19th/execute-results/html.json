{
  "hash": "33d4e744173801cf5f6f31560033b020",
  "result": {
    "markdown": "---\ntitle: \"Week 4: Grouping and Summarising\"\ndate: October 19\ntoc: true\ntoc-depth: 5\ntoc-title: \"Outline\"\n---\n\n\n\nBefore we do any exercises, make sure to run this code: \n\n\n::: {.cell}\n\n```{.r .cell-code .code-overflow-wrap}\nlibrary(tidyverse)\ndat <- read_csv(\"https://raw.githubusercontent.com/BrighamEaquinto/brighameaquinto.github.io/master/datasets/insurance.csv\")\n```\n:::\n\n\nThis is our dataset for this practice: \n\n\n\n\n\n| age|sex    |    bmi| children|smoker |region    |   charges|\n|---:|:------|------:|--------:|:------|:---------|---------:|\n|  19|female | 27.900|        0|yes    |southwest | 16884.924|\n|  18|male   | 33.770|        1|no     |southeast |  1725.552|\n|  28|male   | 33.000|        3|no     |southeast |  4449.462|\n|  33|male   | 22.705|        0|no     |northwest | 21984.471|\n|  32|male   | 28.880|        0|no     |northwest |  3866.855|\n\n<br>\n\n## Let's learn about `group_by() %>% summarise()` \n\n\nWhat if we want to learn: \n\n- the average BMI ***by*** gender \n- the total sum of charges ***by*** region in the US \n- min & max of children ***by *** age\n\nAll of these are examples uses for `group_by()` and `summarise()` statements. \n\n<br>\n\n# Examples \n\n## Exercise 1: Average BMI by Gender\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat %>% \n    group_by(sex) %>%\n    summarise(Average_Age = mean(age))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 2\n  sex    Average_Age\n  <chr>        <dbl>\n1 female        39.5\n2 male          38.9\n```\n:::\n:::\n\n\n## Exercise 2: Average BMI by Age\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat %>% \n    group_by(age) %>% \n    summarise(mean(bmi)) %>% \n    head() \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n    age `mean(bmi)`\n  <dbl>       <dbl>\n1    18        31.3\n2    19        28.6\n3    20        30.6\n4    21        28.2\n5    22        31.1\n6    23        31.5\n```\n:::\n:::\n\n\n\n# Your Turn\n\n## Exercise 3: Sum of Charges by Region\n\nUse the code below to get you started. Find the sum of the charges by region. \n\n**Starter Code:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat %>% \n    group_by() %>% \n    summarise()\n```\n:::\n\n\nThis is the correct output\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 4 × 2\n  region    Total_Charges\n  <chr>             <dbl>\n1 northeast      4343669.\n2 northwest      4035712.\n3 southeast      5363690.\n4 southwest      4012755.\n```\n:::\n:::\n\n\nAttempt the code above then use this dropdown for help\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Answer\"}\ndat %>% \n    group_by(region) %>% \n    summarise(Total_Charges = sum(charges))\n```\n:::\n\n\n\n## Exercise 4: Min & Max of Children by Age\n\nUse the code below to get you started. Find the minimum and maximum amount of children by age. \n\n**Starter Code:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat %>% \n    group_by(___) %>%\n    summarise(\n        Min = ___(),\n        Max = ___()\n        ) %>% \n    head()\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 3\n    age   Min   Max\n  <dbl> <dbl> <dbl>\n1    18     0     4\n2    19     0     5\n3    20     0     5\n4    21     0     4\n5    22     0     3\n6    23     0     3\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Answer\"}\ndat %>% \n    group_by(age) %>%\n    summarise(\n        Min = min(children),\n        Max = max(children)\n        ) %>% \n    head()\n```\n:::\n\n\n## Exercise 5: Average Charges by Sex and by Smoker\n\nHere no starter code is given. If you need to, look back at previous code chunks for guidence. \n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'sex'. You can override using the `.groups`\nargument.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 4 × 4\n# Groups:   sex [2]\n  sex    smoker Average_Charges Total_Charges\n  <chr>  <chr>            <dbl>         <dbl>\n1 female no               8762.      4792977.\n2 female yes             30679.      3528085.\n3 male   no               8087.      4181085.\n4 male   yes             33042.      5253679.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Answer\"}\ndat %>% \n    group_by(sex, smoker) %>% \n    summarise(\n        Average_Charges = mean(charges), \n        Total_Charges = sum(charges)) %>% knitr::kable()\n```\n:::\n\n\n|sex    |smoker | Average_Charges| Total_Charges|\n|:------|:------|---------------:|-------------:|\n|female |no     |        8762.297|       4792977|\n|female |yes    |       30678.996|       3528085|\n|male   |no     |        8087.205|       4181085|\n|male   |yes    |       33042.006|       5253679|\n\n> |sex    |smoker | Average_Charges| Total_Charges|\n> |:------|:------|---------------:|-------------:|\n> |female |no     |        8762.297|       4792977|\n> |female |yes    |       30678.996|       3528085|\n> |male   |no     |        8087.205|       4181085|\n> |male   |yes    |       33042.006|       5253679|\n\n\n> Does this do anything?",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}